"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getCounterModel = void 0;
const mongoose_1 = require("mongoose");
const CounterSchema = {
    name: { type: String },
    value: { type: Number, default: 0 }
};
const getCounterModel = (collection = 'payme_counters') => {
    const schema = new mongoose_1.Schema(CounterSchema, { collection });
    schema.index({
        name: 1
    }, {
        name: "name_index",
        unique: true,
        background: true,
    });
    const CounterModel = (0, mongoose_1.model)('PaymeCounter', schema);
    return CounterModel;
};
exports.getCounterModel = getCounterModel;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY291bnRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9kYi9tb2RlbHMvY291bnRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSx1Q0FBeUM7QUFRekMsTUFBTSxhQUFhLEdBQUc7SUFDbEIsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRTtJQUN0QixLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUU7Q0FDdEMsQ0FBQTtBQUdNLE1BQU0sZUFBZSxHQUFHLENBQUMsVUFBVSxHQUFHLGdCQUFnQixFQUFFLEVBQUU7SUFFN0QsTUFBTSxNQUFNLEdBQUcsSUFBSSxpQkFBTSxDQUFXLGFBQWEsRUFBRSxFQUFFLFVBQVUsRUFBRSxDQUFDLENBQUM7SUFFbkUsTUFBTSxDQUFDLEtBQUssQ0FDUjtRQUNJLElBQUksRUFBRSxDQUFDO0tBQ1YsRUFDRDtRQUNJLElBQUksRUFBRSxZQUFZO1FBQ2xCLE1BQU0sRUFBRSxJQUFJO1FBQ1osVUFBVSxFQUFFLElBQUk7S0FDbkIsQ0FDSixDQUFDO0lBRUYsTUFBTSxZQUFZLEdBQUcsSUFBQSxnQkFBSyxFQUFXLGNBQWMsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUU3RCxPQUFPLFlBQVksQ0FBQztBQUN4QixDQUFDLENBQUE7QUFsQlksUUFBQSxlQUFlLG1CQWtCM0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtb2RlbCwgU2NoZW1hIH0gZnJvbSAnbW9uZ29vc2UnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElDb3VudGVyIHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgdmFsdWU6IG51bWJlcjtcbiAgICBnZXRWYWx1ZShuYW1lOiBzdHJpbmcpOiBudW1iZXI7XG59XG5cbmNvbnN0IENvdW50ZXJTY2hlbWEgPSB7XG4gICAgbmFtZTogeyB0eXBlOiBTdHJpbmcgfSxcbiAgICB2YWx1ZTogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAgfVxufVxuXG5cbmV4cG9ydCBjb25zdCBnZXRDb3VudGVyTW9kZWwgPSAoY29sbGVjdGlvbiA9ICdwYXltZV9jb3VudGVycycpID0+IHtcblxuICAgIGNvbnN0IHNjaGVtYSA9IG5ldyBTY2hlbWE8SUNvdW50ZXI+KENvdW50ZXJTY2hlbWEsIHsgY29sbGVjdGlvbiB9KTtcblxuICAgIHNjaGVtYS5pbmRleChcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBcIm5hbWVfaW5kZXhcIixcbiAgICAgICAgICAgIHVuaXF1ZTogdHJ1ZSxcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHRydWUsXG4gICAgICAgIH1cbiAgICApO1xuXG4gICAgY29uc3QgQ291bnRlck1vZGVsID0gbW9kZWw8SUNvdW50ZXI+KCdQYXltZUNvdW50ZXInLCBzY2hlbWEpO1xuXG4gICAgcmV0dXJuIENvdW50ZXJNb2RlbDtcbn1cbiJdfQ==